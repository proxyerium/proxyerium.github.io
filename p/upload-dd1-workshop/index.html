<!DOCTYPE html>
<html lang="en"><head>
        <meta charset="UTF-8">
        <title>proxyerium's blog</title>
        <meta name="viewport" content="width=device-width, initial-scale=1.0">
        <link rel="stylesheet" href="/styles.css">
    </head>

    <body>
        <a href="..">back</a>
<p>先定位到本地文件夹：</p>
<p>在库里点开 Darkest Dungeon -&gt; 齿轮图标 -&gt; 管理（Manage） -&gt; 浏览本地文件（Browse local files）</p>
<p>现在的位置应该是 <code>..\Steam\steamapps\common\DarkestDungeon\</code>，再进入到<code>_windows\</code>。</p>
<p>双击其中的 <strong>steam_workshop_upload.exe</strong>，此时程序会创建一个 “<em>sample_project.xml</em>”（这个 xml 可以随意改名，一般改成“<em>project.xml</em>”）：</p>
<pre><code class="language-xml hljs"><span class="hljs-meta">&lt;?xml version=<span class="hljs-string">"1.0"</span> encoding=<span class="hljs-string">"utf-8"</span>?&gt;</span>
<span class="hljs-tag">&lt;<span class="hljs-name">project</span>&gt;</span>
 <span class="hljs-tag">&lt;<span class="hljs-name">ItemDescriptionShort</span>/&gt;</span>
 <span class="hljs-tag">&lt;<span class="hljs-name">ModDataPath</span>&gt;</span>c:/absolute_path_to_your_mod_folders_data_directory/data<span class="hljs-tag">&lt;/<span class="hljs-name">ModDataPath</span>&gt;</span>
 <span class="hljs-tag">&lt;<span class="hljs-name">Title</span>&gt;</span>Your Mod Title here<span class="hljs-tag">&lt;/<span class="hljs-name">Title</span>&gt;</span>
 <span class="hljs-tag">&lt;<span class="hljs-name">Language</span>&gt;</span>english<span class="hljs-tag">&lt;/<span class="hljs-name">Language</span>&gt;</span>
 <span class="hljs-tag">&lt;<span class="hljs-name">UpdateDetails</span>&gt;</span>When you update your mod, this is where you would describe your latest changes<span class="hljs-tag">&lt;/<span class="hljs-name">UpdateDetails</span>&gt;</span>
 <span class="hljs-tag">&lt;<span class="hljs-name">Visibility</span>&gt;</span>private<span class="hljs-tag">&lt;/<span class="hljs-name">Visibility</span>&gt;</span>
 <span class="hljs-tag">&lt;<span class="hljs-name">UploadMode</span>&gt;</span>direct_upload<span class="hljs-tag">&lt;/<span class="hljs-name">UploadMode</span>&gt;</span>
 <span class="hljs-tag">&lt;<span class="hljs-name">VersionMajor</span>&gt;</span>0<span class="hljs-tag">&lt;/<span class="hljs-name">VersionMajor</span>&gt;</span>
 <span class="hljs-tag">&lt;<span class="hljs-name">VersionMinor</span>&gt;</span>0<span class="hljs-tag">&lt;/<span class="hljs-name">VersionMinor</span>&gt;</span>
 <span class="hljs-tag">&lt;<span class="hljs-name">TargetBuild</span>&gt;</span>0<span class="hljs-tag">&lt;/<span class="hljs-name">TargetBuild</span>&gt;</span>
 <span class="hljs-tag">&lt;<span class="hljs-name">Tags</span>&gt;</span>
  <span class="hljs-tag">&lt;<span class="hljs-name">Tags</span>&gt;</span>tag1<span class="hljs-tag">&lt;/<span class="hljs-name">Tags</span>&gt;</span>
  <span class="hljs-tag">&lt;<span class="hljs-name">Tags</span>&gt;</span>tag2<span class="hljs-tag">&lt;/<span class="hljs-name">Tags</span>&gt;</span>
 <span class="hljs-tag">&lt;/<span class="hljs-name">Tags</span>&gt;</span>
 <span class="hljs-tag">&lt;<span class="hljs-name">ItemDescription</span>&gt;</span>Describe your mod in 8000
characters or less here!<span class="hljs-tag">&lt;/<span class="hljs-name">ItemDescription</span>&gt;</span>
<span class="hljs-tag">&lt;/<span class="hljs-name">project</span>&gt;</span>

</code></pre>
<p>并打开一个命令行形式的文档，这个文档会说明一个创意工坊模组需要什么元数据。</p>
<p>把这个 xml 文件移动到要做成 Mod 的那个文件夹的<strong>根目录</strong>。</p>
<p>然後按需修改对应的元数据，值得注意有三个必填项：</p>
<ul>
<li><code>&lt;ModDataPath&gt;</code> Mod 文件夹在本机的绝对路径</li>
<li><code>&lt;Visibility&gt;</code> Mod 在创意工坊的访问权限</li>
<li><code>&lt;UploadMode&gt;</code> 上传方式，通常“direct_upload”就行</li>
</ul>
<p>填好以後把 project.xml 拖进窗口，等待程序处理完成後，xml 里会多一个 steam 给这个 Mod 分配的唯一<code>&lt;PublishedFileId&gt;</code>。完毕。</p>
<p>还有一点，後续 Mod 有更新的话记得也是在这个文件夹里做改动，依旧注意<code>&lt;ModDataPath&gt;</code>是否有效。</p>
<h2>遭遇问题</h2>
<blockquote>
<p>拖文件进去後窗口自动关闭，然後无事发生</p>
</blockquote>
<p>应该是权限问题，以管理员身份运行 steam_workshop_upload.exe 即可；</p>
<p>如果管理员身份打开的窗口不能拖放文件，那就用命令行的方式打开，路径作为参数传入即可：</p>
<pre><code class="language-powershell hljs">steam_workshop_upload.exe <span class="hljs-string">"C:\path_to_mod_folder\project.xml"</span>
</code></pre>
<h2>参考资料</h2>
<p><a href="https://steamcommunity.com/sharedfiles/filedetails/?id=819597757">Steam Community - Modding Guide [Official]</a></p>


    


</body></html>