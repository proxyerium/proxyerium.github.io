<!DOCTYPE html>
<html lang="en">

    <head>
        <meta charset="UTF-8" />
        <title>proxyerium's blog</title>
        <meta name="viewport" content="width=device-width, initial-scale=1.0">
        <link rel="stylesheet" href="/styles.css">
    </head>

    <body>
        <a href="..">back</a>
<p>Archlinux wiki很完善，安装只需要照着文档做一遍就会了。不过每次安装总看wiki挺麻烦的，流程记下来方便以後安装。</p>
<h2>基本</h2>
<h3>iwctl联网</h3>
<pre><code class="language-shell">device list # 列出网卡
station &lt;device&gt; scan
station &lt;device&gt; get-networks
station &lt;device&gt; connect &lt;SSID&gt;
</code></pre>
<h3>硬盘分区</h3>
<pre><code class="language-shell">fdisk -l &lt;disk&gt;
fdisk &lt;disk&gt; # 进入fdisk命令行
fdisk&gt;&gt; g # 新建GPT分区表
fdisk&gt;&gt; n # 新建分区

fdisk&gt;&gt; t # 更改分区类型
# 1:  EFI
# 19: swap
# 23: x86-64-root
fdisk&gt;&gt; w
</code></pre>
<h3>格式化分区</h3>
<pre><code class="language-shell">mkfs.ext4 &lt;root_partition&gt;
mkfs.fat -F 32 &lt;EFI_partition&gt;
mkswap &lt;swap_partition&gt;
</code></pre>
<h3>挂载分区</h3>
<pre><code class="language-shell">mount &lt;root_partition&gt; /mnt
mount --mkdir &lt;EFI_partition&gt; /mnt/boot
swapon &lt;swap_partition&gt;
</code></pre>
<h3>安装系统</h3>
<pre><code class="language-shell">cat &lt;&lt;'eof' &gt; /etc/pacman.d/mirrorlist
Server = https://mirrors.cernet.edu.cn/archlinux/$repo/os/$arch
eof

# 安装所需软件包，ucode根据实际选择amd-ucode或intel-ucode
pacstrap -K /mnt base linux linux-firmware intel-ucode networkmgr nvim grub efibootmgr
</code></pre>
<h3>配置系统</h3>
<pre><code class="language-shell">genfstab -U /mnt &gt;&gt; /mnt/etc/fstab
arch-chroot /mnt
ln -sf /usr/share/zoneinfo/Asia/Shanghai /etc/localtime
hwclock --systohc
vim /etc/locale.gen # 取消注释&quot;en_US.UTF-8&quot;
locale-gen
echo LANG=en_US.UTF-8 &gt;&gt; /etc/locale.conf
echo &lt;hostname&gt; &gt;&gt; /etc/hostname
passwd # 记得改密码
</code></pre>
<h3>bootloader</h3>
<pre><code class="language-shell">grub-install --target=x86_64-efi --efi-directory=/boot --bootloader-id=GRUB
grub-mkconfig -o &lt;EFI_partition&gt;/grub/grub.cfg
</code></pre>
<h2>其他</h2>
<h3>N卡驱动 <s>fxxk you</s></h3>
<pre><code class="language-shell">pacman -S nvidia nvidia-utils nvidia-setting
</code></pre>
<h2>参考资料</h2>
<p><a href="https://wiki.archlinux.org/title/Installation_guide">Archlinux安装指南</a></p>
<p><a href="https://help.mirrors.cernet.edu.cn/archlinux/">MirrorZ校园联合镜像站</a></p>
<h2>Changelog</h2>
<table>
<thead>
<tr>
<th style="text-align:center"></th>
<th style="text-align:center"></th>
</tr>
</thead>
<tbody>
<tr>
<td style="text-align:center">2024-10-13</td>
<td style="text-align:center">又踩到自己挖的坑，修一下</td>
</tr>
<tr>
<td style="text-align:center">2024-4-17</td>
<td style="text-align:center">踩到自己挖的坑，修一下</td>
</tr>
</tbody>
</table>


    </body>

</html>
